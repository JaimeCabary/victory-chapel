<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta name="description" content="">
        <meta name="author" content="">

        <title>Victory Chapel sign in</title>
        <!-- CSS FILES -->
        <!-- bootstrap core css -->
        <link rel="preconnect" href="https://fonts.googleapis.com">

        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="icon" href="images/logo.png" type="image/gif" />
        <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
        <!-- font awesome style -->
        <link href="css/font-awesome.min.css" rel="stylesheet" />
         <link href="css/bootstrap-icons.css" rel="stylesheet">
        <!-- Custom styles for this template -->
        <link href="css/style.css" rel="stylesheet" />
        <!-- responsive style -->
        <link href="css/responsive.css" rel="stylesheet" />
        <script src="https://accounts.google.com/gsi/client" async defer></script>

        
<!--

Tooplate 2127 Little Fashion

https://www.tooplate.com/view/2127-little-fashion

-->
    </head>
    
    <body>
        <section class="preloader">
            <div class="loader_bg">
                <div class="loader"><img src="images/loading.gif" alt="#" /></div>
            </div>
        </section>

    
        <main>
          <header class="header_section">
    <div class="container-fluid">
      <nav class="navbar navbar-expand-lg custom_nav-container">
        <a class="navbar-brand" href="index.html">
          <span>
           <img src="images\logo.png" style="width: 50px; height: 50px; animation: ease-in-out;">
          </span>
        </a>
        <div class="" id="">
          <div class="custom_menu-btn light">
            <button onclick="openNav()">
              <span class="s-1"> </span>
              <span class="s-2"> </span>
              <span class="s-3"> </span>
            </button>
            <div id="myNav" class="overlay">
           <div class="overlay-content">
                <a href="index.html">Home</a>
                <a href="about.html">About</a>
                <a href="gallery.html">Gallery</a>
                <a href="more.html">More</a>
                <a href="videos.html">Live</a>
                <a href="pastor.html">Meet Our pastor</a>      
              </div>
            </div>
          </div>

        </div>
      </nav>
    </div>
  </header>
  <br>
  <br>
  <br>
  <!-- end header section -->


            <section class="sign-in-form section-padding">
                <div class="container">
                    <div class="row">

                        <div class="col-lg-8 mx-auto col-12">

                            <h1 class="hero-title text-center mb-5">Sign In</h1>

                            <div class="row">
                                <div class="col-lg-8 col-11 mx-auto">
                                    <form role="form" id="signinForm" method="post">
<!-- pattern="[^ @]*@[^ @]*" -->
                                        <div class="form-floating mb-4 p-0">
                                            <input type="email" name="email" id="email"  class="form-control" placeholder="Enter your registered email" required>

                                            <label for="email">Email address</label>
                                        </div>

                                        <div class="form-floating p-0">
                                            <input type="password" name="password" id="password" class="form-control" placeholder="Enter your password" required>

                                            <label for="password">Password</label>
                                        </div>
                                        <div id="errorMessage" style="color: red; text-align: center;"></div>
                                        <div id="successMessage" style="color: green; text-align: center;"></div>


                                        <div class="at">
                                        <button type="submit" class="butt" id="formi">
                                            Sign in
                                        </button>
                                        <br>
                                        </div>
                                        <br>
                                        
                                        
                                        <p class="text-center">Don’t have an account? <a href="sign-up.html" class="meme">Create One</a></p>

                                    </form>
                                </div>
                            </div>
                            
                        </div>

                    </div>
                </div>
            </section>

        </main>

        <section class="info_section layout_padding2">
    <div class="container">
      <div class="row info_form_social_row">
        <div class="col-md-8 col-lg-9">
          <div class="info_form">
            <form action="">
              <input type="email" placeholder="Enter your email">
              <button>
                <i class="fa fa-arrow-right" aria-hidden="true"></i>
            </form><br></button><br><p>Subscribe to our newsletter for the latest sermons, church news, and upcoming events delivered straight to your inbox. Stay connected with the Victory Chapel family.</p>
            </form>
          </div>
        </div>
        <div class="col-md-4 col-lg-3">
          <br>

           <h4>
            Contact Us
          </h4>

          <div class="social_box">
  
            <a href="https://facebook.com/victory.chapel.56">
              <i class="fa fa-facebook" aria-hidden="true"></i>
            </a>
            <a href="">
              <i class="fa fa-twitter" aria-hidden="true"></i>
            </a>
            <a href="">
              <i class="fa fa-linkedin" aria-hidden="true"></i>
            </a>
          </div>
        </div>
        <!-- <div class="topbutton">
          <div class="top-box">
            <a id="backToTop" class="backToTop" title="Back to top">↑</a>
          </div>
      </div> -->
      <div id="scroll-Top">
				<div class="return-to-top">
					<i class="fa fa-angle-up " id="scroll-top" data-toggle="tooltip" data-placement="top" title="" data-original-title="Back to Top" aria-hidden="true"></i>
				</div>
      </div>
      </div>
      <div class="row info_main_row">
           
        <div class="col-md-6 col-lg-3">
          
          <div class="info_contact">
            <a href="">
                <span><i class="fa fa-map-marker" aria-hidden="true"></i> <em>#25 MCC Road By Don K Bus-Stop Opp. Karis Ruach Filling Station Uratta Owerri</em></span>
            </a>
            <a href="">
              <i class="fa fa-phone" aria-hidden="true"></i>
              <span>
                Call 08063670742
              </span>
            </a>
            <a href="">
              <i class="fa fa-envelope"></i>
              <span>
                skg@gmail.com
              </span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- end info_section -->


   <!-- footer section -->
  <footer class="footer_section">
    <div class="container">
      <p>
        &copy; <span id="displayYear"></span> Designed By
        <a href="index.html"> Heccker Group</a>
      </p>
    </div>
 
   <div id="imageModal" class="modal" style="display: none;">
      <span class="close-modal">&times;</span>
      <div class="modal-img-wrapper">
        <img id="modalImg" class="modal-content" alt="Enlarged Image">
      </div>
    </div>

  </footer>
  <!-- footer section -->



        <!-- JAVASCRIPT FILES -->
        <script src="js/jquery-3.4.1.min.js"></script>
        <!-- bootstrap js -->
        <script src="js/bootstrap.js"></script>
        <!-- custom js -->
        <script src="js/custom.js"></script>
        <script src="same.js"></script>
        <script>
const form = document.querySelector('#signinForm');
form.addEventListener('submit', async (e) => {
  e.preventDefault();

  const email = document.querySelector('#email').value.trim();
  const password = document.querySelector('#password').value.trim();

  const errorDiv = document.querySelector('#errorMessage');
  const successDiv = document.querySelector('#successMessage');
  errorDiv.textContent = '';
  successDiv.textContent = '';

  try {
    const res = await fetch('http://localhost:5000/auth/login', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email, password })
    });
    const data = await res.json();

    if (res.ok && data.token) {
      localStorage.setItem('token', data.token);
      successDiv.textContent = "Login successful! Redirecting to your Dashboard...";
      setTimeout(() => {
        window.location.href = 'dashboard.html';
      }, 1500);
    } else {
      errorDiv.textContent = data.message || "Invalid email or password.";
    }
  } catch (error) {
    errorDiv.textContent = "Error occurred. Try again later.";
  }
});
</script>

    </body>
</html>
